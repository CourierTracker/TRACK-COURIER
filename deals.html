<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Deals - Featured Products</title>
  <link rel="stylesheet" href="style.css"> <!-- Your main CSS file -->
  <link rel="icon" href="favicon.png" type="image/png">
</head>
<body>

  <!-- Header / Navigation (reuse your Home page header) -->
  <header>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="services.html">Services</a></li>
      </ul>
    </nav>
  </header>

  <!-- Page Banner -->
  <section class="page-banner">
    <h1>Exclusive Deals</h1>
    <p>Grab these special deals while they last!</p>
  </section>

  <!-- Products Section -->
  <section class="products">
    <h2>Our Featured Deals</h2>

    <!-- Customer Email Input -->
    <div class="email-input">
      <label for="customerEmail">Enter your email (receipt will be sent here):</label>
      <input type="email" id="customerEmail" placeholder="youremail@example.com" required>
    </div>

    <div class="product-grid">

      <!-- Product 1 -->
      <div class="product-card">
        <img src="dido.webp" alt="Product 1">
        <h3>Masturbator Dual Vibrating Female G-Spot Toy</h3>
        <button type="button" class="paystack-btn" onclick="payWithPaystack(59000, document.getElementById('customerEmail').value)">
          Pay $40
        </button>
      </div>

      <!-- Product 2 -->
      <div class="product-card">
        <img src="allsex.jpg" alt="Product 2">
        <h3>Vibrator Flapping Sex Toy for Couples (3-in-1)</h3>
        <button type="button" class="paystack-btn" onclick="payWithPaystack(95000, document.getElementById('customerEmail').value)">
          Pay $65.25
        </button>
      </div>

      <!-- Product 3 -->
      <div class="product-card">
       <img src="mensex.jpeg" alt="Product 3">
       <h3>Vaginal Sex Male Masturbator Sex Toy For Men</h3>
       <button type="button" class="paystack-btn" onclick="payWithPaystack(18000, document.getElementById('customerEmail').value)">
        Pay $11.25
      </button>
    </div>

     <!-- Product 4 -->
     <div class="product-card">
      <img src="singlesex.jpg" alt="Product 4">
      <h3>Strong Amateur female students vibrator sensational</h3>
      <button type="button" class="paystack-btn" onclick="payWithPaystack(23000, document.getElementById('customerEmail').value)">
      Pay $15.00
    </button>
  </div>

    </div>
  </section>

  <!-- Footer (reuse your Home page footer) -->
  <footer>
    <p>&copy; 2025 Courier Tracker. All rights reserved.</p>
  </footer>
  
<!-- Paystack script must load BEFORE your JS function -->
<script src="https://js.paystack.co/v1/inline.js"></script>
  

<script>
const emailInput = document.getElementById('customerEmail');
const payButtons = document.querySelectorAll('.paystack-btn');

// Enable buttons only if email is valid
emailInput.addEventListener('input', () => {
  const valid = emailInput.checkValidity();
  payButtons.forEach(btn => btn.disabled = !valid);
});

function payWithPaystack(amount, email) {
    const emailInputField = document.getElementById('customerEmail');

    if (!email || !email.includes('@')) {
        alert('Please enter a valid email before paying.');
        emailInputField.scrollIntoView({ behavior: 'smooth', block: 'center' });
        emailInputField.focus();
        return;
    }

    alert('Starting payment...'); // TEST: shows if click fires

    let handler = PaystackPop.setup({
        key: 'pk_live_410ea0d7cf10bc1c518a2f1d96872cfab0231be7',
        email: email,
        amount: amount,
        currency: 'NGN',
        callback: function(response){
            alert('Payment complete! Reference: ' + response.reference);
        },
        onClose: function(){
            alert('Payment cancelled.');
        }
    });

    handler.openIframe();
}
</script>

</body>
</html>
