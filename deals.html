<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Deals - Featured Products</title>
  <link rel="stylesheet" href="style.css">
  <link rel="icon" href="favicon.png" type="image/png">
  <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-XQTH8T4YVN"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-XQTH8T4YVN');
</script>
</head>
<body class="deals-page">

  <!-- Header / Navigation -->
  <header>
    <nav>
      <ul>
        <li><a href="index.html">Home</a></li>
        <li><a href="about.html">About</a></li>
        <li><a href="services.html">Services</a></li>
      </ul>
    </nav>
  </header>

  <!-- Page Banner -->
  <section class="page-banner">
    <h1>Exclusive Deals</h1>
    <p>Grab these special deals while they last!</p>
  </section>

    <div class="customer-info">
      <h3>Enter Your Details</h3>
      <label for="customerName">Name</label>
      <input id="customerName" type="text" placeholder="Your name">
      <label for="customerEmail">Email</label>
      <input id="customerEmail" type="email" placeholder="you@example.com">
      <label for="customerAddress">Address</label>
      <textarea id="customerAddress" placeholder="Shipping address"></textarea>
    </div>

    <div class="product-grid">
      <!-- Product 1 -->
      <div class="product-card">
        <img src="dido.webp" alt="Product 1">
        <h3>Masturbator Dual Vibrating Female G-Spot Toy</h3>
        <button type="button" class="paystack-btn" onclick="payWithPaystack(59000*100, document.getElementById('customerEmail').value)">
          Pay $40
        </button>
      </div>

      <!-- Product 2 -->
      <div class="product-card">
        <img src="allsex.jpg" alt="Product 2">
        <h3>Vibrator Flapping Sex Toy for Couples (3-in-1)</h3>
        <button type="button" class="paystack-btn" onclick="payWithPaystack(95000*100, document.getElementById('customerEmail').value)">
          Pay $65.25
        </button>
      </div>

      <!-- Product 3 -->
      <div class="product-card">
       <img src="mensex.jpeg" alt="Product 3">
       <h3>Vaginal Sex Male Masturbator Sex Toy For Men</h3>
       <button type="button" class="paystack-btn" onclick="payWithPaystack(18000*100, document.getElementById('customerEmail').value)">
        Pay $11.25
      </button>
    </div>

     <!-- Product 4 -->
     <div class="product-card">
      <img src="singlesex.jpg" alt="Product 4">
      <h3>Strong Amateur female students vibrator sensational</h3>
      <button type="button" class="paystack-btn" onclick="payWithPaystack(23000*100, document.getElementById('customerEmail').value)">
      Pay $15.00
    </button>
  </div>

    </div>
  </section>

  <!-- Footer -->
  <footer>
    <p>&copy; 2025 Courier Tracker. All rights reserved.</p>
  </footer>
  
  <!-- Paystack script -->
  <script src="https://js.paystack.co/v1/inline.js"></script>
  <script>
    const emailInput = document.getElementById('customerEmail');
    const payButtons = document.querySelectorAll('.paystack-btn');

    // Enable buttons only if email is valid
    emailInput.addEventListener('input', () => {
      const valid = emailInput.checkValidity();
      payButtons.forEach(btn => btn.disabled = !valid);
    });

    function payWithPaystack(amount, email) {
  const nameInput = document.getElementById('customerName');
  const addressInput = document.getElementById('customerAddress');

  const name = nameInput.value.trim();
  const address = addressInput.value.trim();

  if (!email || !email.includes('@')) {
    alert('Please enter a valid email before payment! Receipt will be sent there');
    document.getElementById('customerEmail').scrollIntoView({ behavior: 'smooth', block: 'center' });
    document.getElementById('customerEmail').focus();
    return;
  }

  if (!name || !address) {
    alert('Please enter your name and address before payment!');
    if (!name) nameInput.focus();
    else addressInput.focus();
    return;
  }

  let handler = PaystackPop.setup({
    key: 'pk_live_410ea0d7cf10bc1c518a2f1d96872cfab0231be7',
    email: email,
    amount: amount,
    currency: 'NGN',
    metadata: {
      custom_fields: [
        { display_name: "Name", variable_name: "name", value: name },
        { display_name: "Address", variable_name: "address", value: address }
      ]
    },
    callback: function(response){
      alert('Payment complete! Reference: ' + response.reference);
    },
    onClose: function(){
      alert('Payment cancelled.');
    }
  });

  handler.openIframe();
}
  </script>

</body>
</html>
